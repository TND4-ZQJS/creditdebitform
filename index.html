<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Credit Card Form Filler — Prototype</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <main>
    <h1>Credit Card Enrolment — Prototype</h1>

    <!-- HEADER -->
    <section class="section header">
      <h2>Header</h2>
      <label class="row inline">
        <input id="CCAgree" type="checkbox">I agree for recurring credit/debit card services
      </label>

      <div class="row header-row">
        <label class="inline">
          <input id="Onetimecharge_alloutstanding" type="checkbox"> Charge all outstanding
        </label>

        <label class="inline">
          <input id="Onetimecharge_tick" type="checkbox"> Request one-time charge
        </label>

        <label class="amount">
          Amount (RM)
          <input id="Onetimecharge_amt" type="number" step="0.01" disabled placeholder="0.00" />
        </label>
      </div>
    </section>

    <!-- SECTION A: Policy Entries -->
    <section class="section" id="sectionA">
      <h2>Section A — Policy Entries</h2>

      <div id="policiesContainer"></div>

      <div class="row">
        <button id="addPolicy">+ Add Another Policy</button>
        <small class="muted">Up to 4 policies</small>
      </div>
    </section>

    <!-- CARD DETAILS -->
    <section class="section">
      <h2>Card Details</h2>

      <label>Name on Card
        <input id="CardName" type="text" placeholder="As printed on card">
      </label>

      <div class="row">
        <label class="inline"><input name="cardType" id="CC_Tick" type="radio"> Credit Card</label>
        <label class="inline"><input name="cardType" id="DebitC_Tick" type="radio"> Debit Card</label>
      </div>

      <div class="card-number-block">
        <label>Card Number</label>
        <div class="card-number-inputs">
          <input class="card-digit" id="CardNo_1" maxlength="4" inputmode="numeric" pattern="\d*">
          <input class="card-digit" id="CardNo_2" maxlength="4" inputmode="numeric" pattern="\d*">
          <input class="card-digit" id="CardNo_3" maxlength="4" inputmode="numeric" pattern="\d*">
          <input class="card-digit" id="CardNo_4" maxlength="4" inputmode="numeric" pattern="\d*">
        </div>
        <small class="muted">Type 4 digits per box. Paste full 16-digit number — it will auto-split.</small>
      </div>

      <div class="row small">
        <label>Expiry MM
          <input id="CardExpry_M" maxlength="2" inputmode="numeric" placeholder="MM">
        </label>
        <label>Expiry YY
          <input id="CardExpry_Y" maxlength="2" inputmode="numeric" placeholder="YY">
        </label>
        <label>Issuing Bank
          <input id="CardBank" type="text">
        </label>
      </div>

      <div class="row">
        <label class="inline"><input name="brand" id="Visa_Tick" type="radio"> Visa</label>
        <label class="inline"><input name="brand" id="Master_Tick" type="radio"> Master</label>
      </div>
    </section>

    <!-- SIGNATURE -->
    <section class="section">
      <h2>Signature</h2>
      <canvas id="signatureCanvas"></canvas>
      <div class="row">
        <button id="clearSig" class="secondary">Clear Signature</button>
      </div>

      <div class="row small">
        <label>Signer (Owner) Name
          <input id="Sign_OwnerName" type="text">
        </label>
        <label>Owner NRIC
          <input id="Sign_OwnerNIRC" type="text">
        </label>
      </div>

      <div class="row small">
        <label>Sign Date (DD)
          <input id="Sign_Date" maxlength="2" inputmode="numeric">
        </label>
        <label>Sign Month
          <input id="Sign_Month" maxlength="2" inputmode="numeric">
        </label>
        <label>Sign Year (YYYY)
          <input id="Sign_Year" maxlength="4" inputmode="numeric">
        </label>
        <label>State
          <input id="Sign_State" type="text">
        </label>
      </div>
    </section>

    <!-- THIRD PARTY -->
    <section class="section">
      <h2>Third Party / Source</h2>

      <label><input id="ThirdPP_Yes" type="checkbox"> Third party payor?</label>
      <label>Third Party Name <input id="ThirdPP_Name" type="text"></label>
      <label>Third Party Email <input id="ThirdPP_Email" type="email"></label>

      <h3>Source of Funds (select any)</h3>
      <label><input id="ThirdPP_SourceFund_Self" type="checkbox"> Self</label>
      <label><input id="ThirdPP_SourceFund_Parent" type="checkbox"> Parent(s)</label>
      <label><input id="ThirdPP_SourceFund_Spouse" type="checkbox"> Spouse</label>
      <label><input id="ThirdPP_SourceFund_Others" type="checkbox"> Others</label>
      <label>If others specify <input id="ThirdPP_SourceFund_Others_Write" type="text"></label>

      <h3>Source of Wealth (select any)</h3>
      <label><input id="ThirdPP_SourceWealth_EmployBus" type="checkbox"> Employment/Business</label>
      <label><input id="ThirdPP_SourceWealth_Invest" type="checkbox"> Investment</label>
      <label><input id="ThirdPP_SourceWealth_Inherit" type="checkbox"> Inheritance</label>
      <label><input id="ThirdPP_SourceWealth_Savings" type="checkbox"> Savings</label>
      <label><input id="ThirdPP_SourceWealth_Parents" type="checkbox"> Parents</label>
      <label><input id="ThirdPP_SourceWealth_Spouse" type="checkbox"> Spouse</label>
      <label><input id="ThirdPP_SourceWealth_Others" type="checkbox"> Others</label>
      <label>If others specify <input id="ThirdPP_SourceWealth_Others_Write" type="text"></label>
    </section>

    <!-- ACTIONS -->
    <section class="section actions">
      <button id="generate">Generate PDF</button>
      <button id="resetAll" class="secondary">Reset All</button>
    </section>

    <footer>
      <small>Make sure <code>Credit Card Enrolment Form_LF4092_200524_fillable.pdf</code> is in the same folder.</small>
    </footer>
  </main>

  <script src="https://unpkg.com/pdf-lib/dist/pdf-lib.min.js"></script>
  <script src="script.js"></script>
</body>
</html>
